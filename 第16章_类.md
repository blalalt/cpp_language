## 引言

 C++类是创建新类型的工具，创建出的新类型像内置类型一样方便。而且，派生类和模板允许程序员表达类之间的关系(层次和参数化)并利用这种关系。

一个类型就是一个概念的具体表示。若一个概念没有与之直接对应的内置类型，就定义一个新类型来表示它。

定义新类型的基本思想是将实现的细节与正确使用它的必要属性分离。也即：通过一个专用接口引导数据结构及其内部辅助例程的使用。

### 16.2 类基础

类的简要概括：

* 一个类就是一个用户自动以类型
* 一个类由一组成员构成。最常见的成员类别是数据成员和成员函数
* 成员函数可定义初始化、拷贝、移动和清理等语义
* 对对象使用.　，对指针使用-> 访问成员
* 可以为类定义运算符
* 一个类就是一个包含其成员的名字空间
* public成员提供类的接口，private成员提供实现细节
* struct是成员默认为public的class

#### 16.2.1 成员函数

声明与类定义内的函数称为成员函数(member function)，对恰当类型的特定变量使用结构成员访问语法才能调用这种函数。

由于不同结构可能有同名函数，在定义成员函数时必须指定结构名。如 

```c++
struct Date {
    int d;
public:
    void init(int);
}

void Date::init(int dd) {
    d = d;
}
```

在成员函数中，不必显示引用对象即可使用成员的名字。在此情况下，名字引用的是调用函数的对象的成员。

#### 16.2.2 默认拷贝

默认情况下，对象是可以拷贝的。特别是，一个类对象可以用同类的另一个对象的副本来进行初始化。

```c++
Date d1{1};
Date d2 = d1; // 用副本进行初始化
Date d3{d1};
```

类似的，类队形默认也可通过赋值操作拷贝。

```c++
void f(Date& d) {
    d = d1;
}
```



**默认情况下，一个类对象的副本是对每个成员逐个拷贝得到的。默认的拷贝语义是逐成员赋值。**

#### 16.2.3 访问控制

private私有的，它们只能被成员函数使用。public共有的，构成类对象的公共接口。struct就是一个成员默认为公有的class，成员函数的声明和使用是一样的。

**但是，非成员函数禁止使用私有成员。**

**私有数据的保护依赖于对类成员名的使用限制。因此通过地址操作和显示类型转换可以绕过私有保护。**

#### 16.2.4 class和struct

```c++
class X{...};
```

称为类定义，定义一个名为X的类型。可以在不同源文件中使用#include重复类定义而不会违反单一定义规则。

**struct就是一个成员默认为公有的class。**

